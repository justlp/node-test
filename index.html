<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>

    <!--<link href="main.css" rel="stylesheet" >-->
    <script src="https://cdn.jsdelivr.net/lodash/4.6.1/lodash.min.js"></script>
</head>
<body>

<ul class="block">
    <li class="block__elem">Apple</li>
    <li class="block__elem">Orange</li>
    <li class="block__elem">Pear</li>
    <li class="element">Pear</li>
</ul>

body, html {position: relative;}
.elem, body{color: red;}
<script>

    var obj = {
        "type": "stylesheet",
        "stylesheet": {
            "rules": [
                {
                    "type": "comment",
                    "comment": "*\n * Paste some code here and explore the syntax tree\n * created by https://github.com/reworkcss/css. Enjoy!\n ",
                    "position": {
                        "start": {
                            "line": 1,
                            "column": 1
                        },
                        "end": {
                            "line": 4,
                            "column": 4
                        }
                    }
                },
                {
                    "type": "rule",
                    "selectors": [
                        "*"
                    ],
                    "declarations": [
                        {
                            "type": "declaration",
                            "property": "-moz-box-sizing",
                            "value": "border-box",
                            "position": {
                                "start": {
                                    "line": 7,
                                    "column": 3
                                },
                                "end": {
                                    "line": 7,
                                    "column": 30
                                }
                            }
                        },
                        {
                            "type": "declaration",
                            "property": "box-sizing",
                            "value": "border-box",
                            "position": {
                                "start": {
                                    "line": 8,
                                    "column": 3
                                },
                                "end": {
                                    "line": 8,
                                    "column": 25
                                }
                            }
                        }
                    ],
                    "position": {
                        "start": {
                            "line": 6,
                            "column": 1
                        },
                        "end": {
                            "line": 9,
                            "column": 2
                        }
                    }
                },
                {
                    "type": "rule",
                    "selectors": [
                        "body"
                    ],
                    "declarations": [
                        {
                            "type": "declaration",
                            "property": "background",
                            "value": "red",
                            "position": {
                                "start": {
                                    "line": 12,
                                    "column": 3
                                },
                                "end": {
                                    "line": 12,
                                    "column": 18
                                }
                            }
                        },
                        {
                            "type": "declaration",
                            "property": "font-size",
                            "value": "18px",
                            "position": {
                                "start": {
                                    "line": 13,
                                    "column": 3
                                },
                                "end": {
                                    "line": 13,
                                    "column": 18
                                }
                            }
                        }
                    ],
                    "position": {
                        "start": {
                            "line": 11,
                            "column": 1
                        },
                        "end": {
                            "line": 14,
                            "column": 2
                        }
                    }
                },
                {
                    "type": "rule",
                    "selectors": [
                        "p"
                    ],
                    "declarations": [
                        {
                            "type": "declaration",
                            "property": "color",
                            "value": "purple !important",
                            "position": {
                                "start": {
                                    "line": 17,
                                    "column": 3
                                },
                                "end": {
                                    "line": 17,
                                    "column": 27
                                }
                            }
                        }
                    ],
                    "position": {
                        "start": {
                            "line": 16,
                            "column": 1
                        },
                        "end": {
                            "line": 18,
                            "column": 2
                        }
                    }
                },
                {
                    "type": "media",
                    "media": "screen and (min-width: 600px)",
                    "rules": [
                        {
                            "type": "rule",
                            "selectors": [
                                "body"
                            ],
                            "declarations": [
                                {
                                    "type": "declaration",
                                    "property": "background",
                                    "value": "green",
                                    "position": {
                                        "start": {
                                            "line": 22,
                                            "column": 5
                                        },
                                        "end": {
                                            "line": 22,
                                            "column": 22
                                        }
                                    }
                                },
                                {
                                    "type": "declaration",
                                    "property": "font-size",
                                    "value": "21px",
                                    "position": {
                                        "start": {
                                            "line": 23,
                                            "column": 5
                                        },
                                        "end": {
                                            "line": 23,
                                            "column": 20
                                        }
                                    }
                                }
                            ],
                            "position": {
                                "start": {
                                    "line": 21,
                                    "column": 3
                                },
                                "end": {
                                    "line": 24,
                                    "column": 4
                                }
                            }
                        }
                    ],
                    "position": {
                        "start": {
                            "line": 20,
                            "column": 1
                        },
                        "end": {
                            "line": 25,
                            "column": 2
                        }
                    }
                }
            ],
            "parsingErrors": []
        }
    };


    var GOBJ = {};
    
    obj.stylesheet.rules.forEach(function (item) {
        if (item.type === 'rule') {
            for (var k = 0; k < item.selectors.length; k++) {
                GOBJ[item.selectors[k]] = [];
            }
        }
    });

    for (var key in GOBJ) {
        obj.stylesheet.rules.forEach(function (item) {
            if (item.type === 'rule') {
                var arr;
                for (var p=0; p<item.selectors.length; p++) {
                    if (key === item.selectors[p]) {
                        arr = GOBJ[key].concat(item.declarations);
                        GOBJ[key] = arr;
                    }
                }
            }
        })
    }

    console.log(GOBJ, 'GOBJ');


</script>


</body>
</html>